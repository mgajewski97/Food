{
  "$comment": "CHANGELOG: Accepts legacy string or object ingredients.",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["name", "ingredients"],
    "properties": {
      "name": {"type": "string"},
      "ingredients": {
        "type": "array",
        "items": {
          "anyOf": [
            {"type": "string"},
            {
              "type": "object",
              "required": ["product"],
              "properties": {
                "product": {"type": "string"},
                "quantity": {"type": "number"},
                "unit": {"type": "string"}
              },
              "additionalProperties": false
            }
          ]
        }
      },
      "tags": {"type": "array", "items": {"type": "string"}},
      "steps": {"type": "array", "items": {"type": "string"}},
      "portions": {"type": "integer"},
      "time": {"type": "string"}
    },
    "additionalProperties": true
  }
}
